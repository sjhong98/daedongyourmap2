(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{1706:function(e,t,n){Promise.resolve().then(n.bind(n,9160))},9700:function(e,t,n){"use strict";n.r(t),n.d(t,{curComments:function(){return i},curPostStore:function(){return f},default:function(){return m},idTokenStore:function(){return a},isLoginStore:function(){return l},isPostViewOpenStore:function(){return h},postCreatedStore:function(){return s},profileStore:function(){return u},selectedPointStore:function(){return d},userDataStore:function(){return c}});var r=n(3827);n(4090);var o=n(2153);let s=(0,o.cn)({key:"postCreated",default:!1}),u=(0,o.cn)({key:"profile",default:{}}),l=(0,o.cn)({key:"isLogin",default:!1}),i=(0,o.cn)({key:"curComments",default:""}),a=(0,o.cn)({key:"idTokenStore",default:""}),c=(0,o.cn)({key:"userDataStore",default:null}),d=(0,o.cn)({key:"selectedPointStore",default:""}),f=(0,o.cn)({key:"curPostStore",default:null}),h=(0,o.cn)({key:"isPostViewOpen",default:!1});function m(e){let{children:t}=e;return(0,r.jsx)(o.Wh,{children:t})}},9160:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(3827),o=n(703),s=n(6893),u=n(5659),l=n(4090),i=n(6285),a=n(7907),c=n(8247),d=n(2153),f=n(2730),h=n(9700);function m(){let e=(0,a.useRouter)(),[t,n]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[m,k]=(0,l.useState)(""),p=(0,d.Zl)(h.isLoginStore),x=(0,d.Zl)(h.idTokenStore),[w,g]=(0,d.FV)(h.userDataStore);return(0,r.jsxs)("div",{className:"center",children:[(0,r.jsx)("title",{children:"대동, 당신의 지도 | 로그인"}),(0,r.jsxs)("div",{className:"flex flex-col items-center bg-white shadow-2xl rounded-3xl w-[25vw] h-[60vh]",children:[(0,r.jsx)(o.default,{src:u.default,alt:"logo",width:300,className:"mt-12 mb-32"}),(0,r.jsx)(s.Z,{state:m,setState:k,ph:"email"}),(0,r.jsx)(s.Z,{state:t,setState:n,ph:"password",type:"password"}),(0,r.jsx)("p",{className:"text-sm text-red-500",children:i}),(0,r.jsx)(S,{variant:"text",onClick:()=>{if(""!==m&&""!==t){let n;let r=(0,f.v0)();(0,f.e5)(r,m,t).then(t=>{console.log("로그인 성공 : ",t),t.user.emailVerified?c("이메일 인증을 완료하세요"):t.user.getIdToken(!0).then(r=>{n=r,g({uid:t.user.uid,photoURL:t.user.photoURL,email:t.user.email,idToken:n,refreshToken:t.user.refreshToken,displayName:t.user.displayName}),x(n),p(!0),localStorage.setItem("ddym-email",m),localStorage.setItem("ddym-refresh-token",t.user.refreshToken),e.push("/create")})}).catch(e=>{console.log("로그인 실패 : ",e)})}else c("모두 입력하세요")},children:"Sign In"}),(0,r.jsx)("a",{className:"lml mc text-sm mt-12",href:"/signup",children:"or Sign UP"})]})]})}let S=(0,c.ZP)(i.Z)({color:"#003545",fontSize:"1rem",width:"10vw","&:hover":{backgroundColor:"#003545",color:"white",boxShadow:"none"}})}},function(e){e.O(0,[691,380,749,723,869,75,475,740,811,971,69,744],function(){return e(e.s=1706)}),_N_E=e.O()}]);