"use strict";exports.id=854,exports.ids=[854],exports.modules={12101:(e,t,a)=>{a.d(t,{Z:()=>ProfilePic});var o=a(60080),i=a(52451),r=a.n(i),l=a(57734),s=a(95291),c=a(9885),d=a(88869),n=a(72856),p=a(43562),h=a(31640);let updateProfilePic=(e,t,a,o)=>{t(URL.createObjectURL(e));let i=(0,p.v0)();i.onAuthStateChanged(t=>{if(t&&t.email){(0,n.ZF)(d.q);let i=(0,h.cF)(),r=(0,h.iH)(i,t.email);(0,h.KV)(r,e).then(e=>{let r=e.metadata.fullPath;(0,h.Jt)((0,h.iH)(i,r)).then(e=>{(0,p.ck)(t,{photoURL:e}).then(()=>{console.log("profile pic changed")}).catch(e=>{console.log(e)}),fetch(`https://firestore.googleapis.com/v1/projects/daedongyourmap-ad63d/databases/(default)/documents/users/${o}?updateMask.fieldPaths=photoURL`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify({fields:{photoURL:{stringValue:e}}})})})})}})};var u=a(39093);function ProfilePic(){let e;let[t,a]=(0,c.useState)(),i=(0,s.sJ)(u.profileStore),d=(0,s.sJ)(u.idTokenStore);return(0,c.useEffect)(()=>{i.photoURL?a(i.photoURL):a(l.Z)},[i]),(0,o.jsxs)("div",{children:[o.jsx("input",{id:"input-image",type:"file",onChange:t=>{e&&updateProfilePic(t.target.files[0],a,d,e)},accept:".png, .jpg, .jpeg, .HEIC, image/*",className:"hidden"}),o.jsx("label",{htmlFor:"input-image",children:o.jsx(r(),{alt:"profile",src:t,width:200,height:200,className:"rounded-full cursor-pointer aspect-square object-cover"})})]})}},57481:(e,t,a)=>{a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=a(96885);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,o.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};