(()=>{var e={};e.id=335,e.ids=[335],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},93081:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>A,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(50482),o=r(69108),a=r(62563),i=r.n(a),n=r(68300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c=["",{children:["profile",{children:["[email]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80742)),"/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/profile/[email]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,44530)),"/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/profile/[email]/page.tsx"],A="/profile/[email]/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/profile/[email]/page",pathname:"/profile/[email]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},14423:(e,t,r)=>{Promise.resolve().then(r.bind(r,94828)),Promise.resolve().then(r.bind(r,62959))},2011:(e,t,r)=>{Promise.resolve().then(r.bind(r,26568))},87626:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},94828:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(95344),o=r(89410),a=r(22010),i=r(83856),n=r(43266),l=r(18698),c=r(65183),d=r(8428),A=r(3729),u=r(76041),p=r(25835),m=r(33913),h=r(63678),g=r(56561),x=r(62959);function f(){let e=(0,d.useRouter)(),t=(0,g.Zl)(x.idTokenStore),[r,a]=(0,A.useState)(""),[c,p]=(0,g.FV)(x.isLoginStore),[f,j]=(0,A.useState)(""),[v,S]=(0,g.FV)(x.profileStore);return(0,u.ZF)(h.q),(0,A.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("ddym-refresh-token"),r=fetch("https://securetoken.googleapis.com/v1/token?key=AIzaSyCA6Q_TA6dyl7wf2BtR_V_oEVIW2_Q94y0",{method:"POST",body:JSON.stringify({grant_type:"refresh_token",refresh_token:e})});(await r).json().then(e=>{console.log("로그인 상태"),p(!0),t(e.access_token),(0,m.v0)().onAuthStateChanged(e=>{e&&e.email&&S({email:e.email,emailVerified:e.emailVerified,displayName:e.displayName,photoURL:e.photoURL})}),localStorage.setItem("ddym-refresh-token",e.refresh_token)})};"none"!==localStorage.getItem("ddym-refresh-token")?e():(console.log("로그아웃 상태"),p(!1))},[]),(0,A.useEffect)(()=>{let e=localStorage.getItem("ddym-email");v.photoURL?a(v.photoURL):a(l.Z),v.displayName?j(v.displayName):e&&j(e)},[v]),s.jsx("div",{children:c?(0,s.jsxs)("div",{className:"flex",children:[s.jsx("div",{className:"mt-3",children:s.jsx(i.Z,{className:"cursor-pointer mr-4",onClick:()=>{e.push("/create")}})}),s.jsx(o.default,{src:r,width:50,height:50,alt:"profile",className:"rounded-full object-cover aspect-square mr-2"}),s.jsx("button",{onClick:()=>{let t=localStorage.getItem("ddym-email");e.push(`/profile/${t}`)},children:f}),s.jsx(n.Z,{onClick:()=>{console.log("로그아웃"),(0,m.w7)((0,m.v0)()),p(!1),localStorage.setItem("ddym-refresh-token","none")},className:"ml-3 mt-3"})]}):s.jsx(y,{variant:"text",onClick:()=>{e.push("/signin")},children:"Sign In"})})}let y=(0,p.ZP)(c.Z)({color:"white",fontSize:"1rem","&:hover":{backgroundColor:"white",color:"#003545",boxShadow:"none"}});function j(){let e=(0,d.useRouter)();return(0,s.jsxs)("header",{className:"flex items-center fixed h-[15vh] px-12 z-[120] cursor-pointer",children:[s.jsx(o.default,{src:a.default,alt:"logo",className:"invert w-1/5",onClick:()=>{e.push("/")}}),s.jsx("div",{className:"flex-1"}),s.jsx(f,{})]})}},72125:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=async e=>{let t;console.log("looking for",e,"'s data");let r=await fetch(`https://firestore.googleapis.com/v1/projects/daedongyourmap-ad63d/databases/(default)/documents/users/${e}`,{method:"GET"}),s=await r.json();return void 0!==s.fields&&(t={displayName:s.fields.displayName.stringValue,photoURL:s.fields.photoURL.stringValue,follower:s.fields.follewer.arrayValue.values,follow:s.fields.follow.arrayValue.values}),t}},26568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95344),o=r(89410),a=r(73709),i=r(80321),n=r(18698),l=r(8428),c=r(3729);let d=async e=>{let t=await fetch("https://firestore.googleapis.com/v1/projects/daedongyourmap-ad63d/databases/(default)/documents:runQuery",{method:"POST",cache:"no-cache",body:JSON.stringify({structuredQuery:{from:[{collectionId:"posts"}],where:{fieldFilter:{field:{fieldPath:"user"},op:"EQUAL",value:{stringValue:`${e}`}}},orderBy:[{field:{fieldPath:"createTime"},direction:"DESCENDING"}]}})}),r=await t.json(),s=[];return r.map(e=>{let t=e.document;void 0!==t&&s.push({createTime:t.createTime,title:t.fields.title.stringValue,content:t.fields.content.stringValue,point:t.fields.point.stringValue,photo:t.fields.photo.arrayValue.values,user:t.fields.user.stringValue,comments:t.fields.comments.arrayValue.values,name:t.name,likes:t.fields.likes.arrayValue.values})}),s};var A=r(72125);function u(e){let t;let r=(0,l.useRouter)(),u=e.params.email.replace("%40","@"),p="text-white text-[1rem]",[m,h]=(0,c.useState)(!1),[g,x]=(0,c.useState)("test"),[f,y]=(0,c.useState)([]),[j,v]=(0,c.useState)([]),[S,w]=(0,c.useState)(!1),[P,k]=(0,c.useState)(!0),[b,B]=(0,c.useState)(""),[N,C]=(0,c.useState)([]),E="text-white nnn mt-4 cursor-pointer";(0,c.useEffect)(()=>{(0,A.A)(u).then(e=>{y(["sjhong98@Icloud.com","elyont98@naver.com","test@test.com"]),v(["sjhong98@Icloud.com","elyont98@naver.com","test@test.com"]),void 0!==e&&(""!==e.displayName&&void 0!==e.displayName?x(e.displayName):x(u),y(["sjhong98@Icloud.com","elyont98@naver.com","test@test.com"]),v(["sjhong98@Icloud.com","elyont98@naver.com","test@test.com"]),""!==e.photoURL&&void 0!==e.photoURL&&B(e.photoURL),u===t?h(!0):h(!1))}),d(u).then(e=>{C(e)})},[]);let q=e=>{r.push(`/profile/${e}`)};return(0,s.jsxs)("div",{className:"flex w-screen h-full",children:[s.jsx("title",{children:"대동, 당신의 지도 | 프로필"}),S?s.jsx("div",{id:"outside-view",onClick:e=>{"outside-view"===e.target.id&&w(!1)},className:"fixed w-screen h-[100vh] z-[100] center mt-[-20vh] backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"bg-stone-800 w-[25vw] h-[35vh] rounded-2xl shadow-2xl",children:[s.jsx("div",{className:"border-b-[1px] border-stone-600 w-full h-[4vh] center",children:s.jsx("p",{className:"text-white nnn",children:P?"팔로우":"팔로워"})}),s.jsx("div",{className:"p-6",children:P?f.map((e,t)=>s.jsx("p",{onClick:()=>q(e),className:E,children:e},t)):j.map((e,t)=>s.jsx("p",{onClick:()=>q(e),className:E,children:e},t))})]})}):s.jsx(s.Fragment,{}),(0,s.jsxs)("div",{className:"w-1/3 h-full center",children:[m?s.jsx(i.Z,{}):""===b?s.jsx(o.default,{src:n.Z,width:200,height:200,alt:"...",className:"rounded-full"}):s.jsx(o.default,{src:b,width:200,height:200,alt:"...",className:"rounded-full"}),(0,s.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("p",{className:"text-white nnn text-[1.5rem]",children:g}),s.jsx(a.Z,{className:"cursor-pointer ml-2",onClick:()=>{r.push("/setting/edit")}})]}),(0,s.jsxs)("div",{className:"flex",children:[s.jsx("p",{className:`${p} nnn`,children:"팔로우"}),s.jsx("p",{className:`${p} nnb ml-1 cursor-pointer`,onClick:()=>{w(!0),k(!0)},children:"100"}),s.jsx("p",{className:`${p} nnn ml-3`,children:"팔로워"}),s.jsx("p",{className:`${p} nnb ml-1 cursor-pointer`,onClick:()=>{w(!0),k(!0)},children:"100"})]})]})]}),s.jsx("div",{className:"w-2/3 h-full center",children:"hlelo"})]})}},80321:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(95344),o=r(89410),a=r(18698),i=r(56561),n=r(3729),l=r(63678),c=r(76041),d=r(33913),A=r(73424);let u=(e,t,r,s)=>{t(URL.createObjectURL(e)),(0,d.v0)().onAuthStateChanged(t=>{if(t&&t.email){(0,c.ZF)(l.q);let o=(0,A.cF)(),a=(0,A.iH)(o,t.email);(0,A.KV)(a,e).then(e=>{let a=e.metadata.fullPath;(0,A.Jt)((0,A.iH)(o,a)).then(e=>{(0,d.ck)(t,{photoURL:e}).then(()=>{console.log("profile pic changed")}).catch(e=>{console.log(e)}),fetch(`https://firestore.googleapis.com/v1/projects/daedongyourmap-ad63d/databases/(default)/documents/users/${s}?updateMask.fieldPaths=photoURL`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`},body:JSON.stringify({fields:{photoURL:{stringValue:e}}})})})})}})};var p=r(62959);function m(){let e;let[t,r]=(0,n.useState)(),l=(0,i.sJ)(p.profileStore),c=(0,i.sJ)(p.idTokenStore);return(0,n.useEffect)(()=>{l.photoURL?r(l.photoURL):r(a.Z)},[l]),(0,s.jsxs)("div",{children:[s.jsx("input",{id:"input-image",type:"file",onChange:t=>{e&&u(t.target.files[0],r,c,e)},accept:".png, .jpg, .jpeg, .HEIC, image/*",className:"hidden"}),s.jsx("label",{htmlFor:"input-image",children:s.jsx(o.default,{alt:"profile",src:t,width:200,height:200,className:"rounded-full cursor-pointer aspect-square object-cover"})})]})}},62959:(e,t,r)=>{"use strict";r.r(t),r.d(t,{curComments:()=>l,curPostStore:()=>u,default:()=>m,idTokenStore:()=>c,isLoginStore:()=>n,isPostViewOpenStore:()=>p,postCreatedStore:()=>a,profileStore:()=>i,selectedPointStore:()=>A,userDataStore:()=>d});var s=r(95344);r(3729);var o=r(56561);let a=(0,o.cn)({key:"postCreated",default:!1}),i=(0,o.cn)({key:"profile",default:{}}),n=(0,o.cn)({key:"isLogin",default:!1}),l=(0,o.cn)({key:"curComments",default:""}),c=(0,o.cn)({key:"idTokenStore",default:""}),d=(0,o.cn)({key:"userDataStore",default:null}),A=(0,o.cn)({key:"selectedPointStore",default:""}),u=(0,o.cn)({key:"curPostStore",default:null}),p=(0,o.cn)({key:"isPostViewOpen",default:!1});function m({children:e}){return s.jsx(o.Wh,{children:e})}},63678:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});let s={apiKey:"AIzaSyCA6Q_TA6dyl7wf2BtR_V_oEVIW2_Q94y0",authDomain:"daedongyourmap-ad63d.firebaseapp.com",projectId:"daedongyourmap-ad63d",storageBucket:"daedongyourmap-ad63d.appspot.com",messagingSenderId:"68098855208",appId:"1:68098855208:web:aa0e9a5602074a3b6c401d",measurementId:"G-7X00QEEQ08"}},73709:(e,t,r)=>{"use strict";var s=r(69286);t.Z=void 0;var o=s(r(20389)),a=r(95344);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")},44530:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g,metadata:()=>h});var s=r(25036),o=r(8592),a=r.n(o);r(67272);var i=r(86843);let n=(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx`),{__esModule:l,$$typeof:c}=n,d=n.default;(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#postCreatedStore`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#profileStore`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#isLoginStore`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#curComments`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#idTokenStore`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#userDataStore`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#selectedPointStore`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#curPostStore`),(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/recoilContextProvider.tsx#isPostViewOpenStore`);let A=(0,i.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/components/header/header.tsx`),{__esModule:u,$$typeof:p}=A,m=A.default,h={title:"Create Next App",description:"Generated by create next app"};function g({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:a().className,children:(0,s.jsxs)(d,{children:[s.jsx(m,{}),s.jsx("div",{className:"flex flex-col justify-center items-center pt-[20vh]",children:e})]})})})}},80742:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>o,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/daedongyourmap/app/profile/[email]/page.tsx`),{__esModule:o,$$typeof:a}=s,i=s.default},22010:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/_next/static/media/daedong.5134d126.png",height:345,width:2074,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAADFBMVEUFBQUGBgYHBwcGBgZl18inAAAABHRSTlNfboh9v1qAhgAAAAlwSFlzAAALEwAACxMBAJqcGAAAABFJREFUeJxjYGBgYmRmYGQCAAAqAArfz3nKAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1}},18698:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s={src:"/_next/static/media/defaultProfilePic.513224af.jpeg",height:360,width:360,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGmB//EABUQAQEAAAAAAAAAAAAAAAAAABMj/9oACAEBAAEFAkv/AP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABgQAAIDAAAAAAAAAAAAAAAAAAARARIx/9oACAEBAAY/AlaViP/EABcQAQADAAAAAAAAAAAAAAAAABEAIZH/2gAIAQEAAT8hGQKZ/9oADAMBAAIAAwAAABAD/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPxB//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPxB//8QAFxAAAwEAAAAAAAAAAAAAAAAAAEHB8P/aAAgBAQABPxDVAVn/2Q==",blurWidth:8,blurHeight:8}},57481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(70337);let o=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,846,337,424],()=>r(93081));module.exports=s})();